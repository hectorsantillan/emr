<!-- usingss -->

<link rel="import" href="../bower_components/app-route/app-location.html">
<link rel="import" href="../bower_components/app-route/app-route.html">
<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-iconset-svg/iron-iconset-svg.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-item/paper-icon-item.html">
<link rel="import" href="../bower_components/app-layout/app-layout.html">
<link rel="import" href="../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../bower_components/app-layout/app-drawer/app-drawer.html">
<link rel="import" href="../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../bower_components/app-layout/demo/sample-content.html">

<link rel="import" href="../bower_components/paper-search/paper-search.html">
<link rel="import" href="../bower_components/iron-pages/iron-pages.html">


<dom-module id="my-app">
    <!-- UI -->

    <template>
        <custom-style>
            <style is="custom-style">
                 :host {
                    display: block;
                }

                body {
                    margin: 0;
                }

                app-header {
                    background-color: #3284BF;
                    color: #FFFFFF;
                    --paper-icon-button-ink-color: #2C2C2C;
                }

                app-header paper-icon-button {
                    --paper-icon-button-ink-color: #2C2C2C;
                }

                app-drawer-layout {
                    --app-drawer-layout-content-transition: margin 0.2s;
                }

                app-drawer {
                    --app-drawer-content-container: {
                        background-color: #F4F5F6;
                    }
                }

                .drawer-content {
                    margin-top: 80px;
                    height: calc(100% - 80px);
                    overflow: auto;
                }
            </style>
        </custom-style>

        <!-- html/polymer tags -->
        <!-- <app-location route="{{route}}" url-space-regex="^[[rootPath]]"></app-location>
        <app-route route="{{route}}" pattern="[[rootPath]]:page" data="{{routeData}}" tail="{{subroute}}"></app-route> -->


            <div hidden$="{{!headerSearchBarIsHidden}}">
                <app-header-layout>
                    <app-header fixed effects="waterfall" slot="header">
                        <app-toolbar>
                            <paper-icon-button id="toggle" icon="menu" on-tap="toggleMenu"></paper-icon-button>
                            <div main-title>EMR</div>
                            <paper-icon-button icon="search" on-tap="toggleSearch"></paper-icon-button>
                        </app-toolbar>

                    </app-header>

                    <app-drawer-layout id="drawerLayout">
                        <app-drawer slot="drawer">
                            <div class="drawer-content">
                                <paper-icon-item>
                                    <iron-icon icon="dashboard" slot="item-icon"></iron-icon> <span>Dashboard</span>
                                </paper-icon-item>
                                <paper-icon-item>
                                    <iron-icon icon="add-alert" slot="item-icon"></iron-icon> <span>Notifications</span>
                                </paper-icon-item>
                                <paper-icon-item>
                                    <iron-icon icon="event" slot="item-icon"></iron-icon> <span>Appointments</span>
                                </paper-icon-item>
                                <paper-icon-item>
                                    <iron-icon icon="supervisor-account" slot="item-icon"></iron-icon> <span>Patients</span>
                                </paper-icon-item>
                                <paper-icon-item>
                                    <iron-icon icon="list" slot="item-icon"></iron-icon> <span>Queue</span>
                                </paper-icon-item>
                                <paper-icon-item>
                                    <iron-icon icon="send" slot="item-icon"></iron-icon> <span>Billing</span>
                                </paper-icon-item>
                                <paper-icon-item>
                                    <iron-icon icon="payment" slot="item-icon"></iron-icon> <span>Collection</span>
                                </paper-icon-item>
                                <paper-icon-item>
                                    <iron-icon icon="trending-up" slot="item-icon"></iron-icon> <span>Reports</span>
                                </paper-icon-item>

                            </div>
                        </app-drawer>

                        <sample-content size="2"></sample-content>
                    </app-drawer-layout>
                </app-header-layout>
            </div>

            <div hidden$="{{headerSearchBarIsHidden}}">
                <paper-search-panel icon="arrow-back"  on-tap="toggleSearch" placeholder="Search Patient" hide-filter-button="true"
                    search="{{search}}"
                    count="{{count}}"
                    items="[[items]]"
                    has-more="[[hasMore]]"
                    loading="[[loading]]"
                    filters="[[filters]]"
                    selected-filters="{{selectedFilters}}"
                    on-change-request-params="loadData">
                <!-- <div>
                  Show your [[count]] results for "[[search]]"
                </div> -->
              </paper-search-panel>                
            </div>
            <div hidden$="{{!headerSearchBarIsHidden}}">
                <app-header-layout>
                    <app-header fixed effects="waterfall" slot="header">
                        <app-toolbar>
                            <paper-icon-button id="toggle" icon="menu" on-tap="toggleMenu"></paper-icon-button>
                            <div main-title>EMR</div>
                            <paper-icon-button icon="search" on-tap="toggleSearch"></paper-icon-button>
                        </app-toolbar>

                    </app-header>

                    <app-drawer-layout id="drawerLayout">
                        <app-drawer slot="drawer">
                            <div class="drawer-content">
                                <paper-icon-item>
                                    <iron-icon icon="dashboard" slot="item-icon"></iron-icon> <span>Dashboard</span>
                                </paper-icon-item>
                                <paper-icon-item>
                                    <iron-icon icon="add-alert" slot="item-icon"></iron-icon> <span>Notifications</span>
                                </paper-icon-item>
                                <paper-icon-item>
                                    <iron-icon icon="event" slot="item-icon"></iron-icon> <span>Appointments</span>
                                </paper-icon-item>
                                <paper-icon-item>
                                    <iron-icon icon="supervisor-account" slot="item-icon"></iron-icon> <span>Patients</span>
                                </paper-icon-item>
                                <paper-icon-item>
                                    <iron-icon icon="list" slot="item-icon"></iron-icon> <span>Queue</span>
                                </paper-icon-item>
                                <paper-icon-item>
                                    <iron-icon icon="send" slot="item-icon"></iron-icon> <span>Billing</span>
                                </paper-icon-item>
                                <paper-icon-item>
                                    <iron-icon icon="payment" slot="item-icon"></iron-icon> <span>Collection</span>
                                </paper-icon-item>
                                <paper-icon-item>
                                    <iron-icon icon="trending-up" slot="item-icon"></iron-icon> <span>Reports</span>
                                </paper-icon-item>

                            </div>
                        </app-drawer>

                        <sample-content size="2"></sample-content>
                    </app-drawer-layout>
                </app-header-layout>
            </div>

            <div hidden$="{{headerSearchBarIsHidden}}">
                <paper-search-panel icon="arrow-back"  on-tap="toggleSearch" placeholder="Search Patient" hide-filter-button="true"
                    search="{{search}}"
                    count="{{count}}"
                    items="[[items]]"
                    has-more="[[hasMore]]"
                    loading="[[loading]]"
                    filters="[[filters]]"
                    selected-filters="{{selectedFilters}}"
                    on-change-request-params="loadData">
                <!-- <div>
                  Show your [[count]] results for "[[search]]"
                </div> -->
              </paper-search-panel>                
            </div>

    
 



    </template>
 
    <!-- back code -->
    <script>
        class MyApp extends Polymer.Element {
            static get is() { return 'my-app'; }
            static get properties() {
                return {
                    headerSearchBarIsHidden: {
                        type: Boolean,
                        value: true
                    }


                }
            }

            toggleMenu() {
                if (this.$.drawerLayout.forceNarrow || !this.$.drawerLayout.narrow) {
                    this.$.drawerLayout.forceNarrow = !this.$.drawerLayout.forceNarrow;
                } else {
                    this.$.drawerLayout.drawer.toggle();
                }
            }

            toggleSearch(){
                this.headerSearchBarIsHidden = !this.headerSearchBarIsHidden
            }

        }

        customElements.define(MyApp.is, MyApp);
    </script>


</dom-module>